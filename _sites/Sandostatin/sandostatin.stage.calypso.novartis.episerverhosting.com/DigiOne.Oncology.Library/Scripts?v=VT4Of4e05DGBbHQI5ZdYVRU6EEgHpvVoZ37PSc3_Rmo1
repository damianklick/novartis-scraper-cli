function CenterFinder(n){var t,i,r;this.gMapLocator=n;this.initLat=this.gMapLocator.data("lat");this.initLng=this.gMapLocator.data("lng");this.initZoom=this.gMapLocator.data("zoom");this.blockId=this.gMapLocator.data("id");this.displayAllOnLoad=this.gMapLocator.data().displayOnLoad==="True";this.noSuggest=!1;t=this;this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:t.initLat,lng:t.initLng},zoom:t.initZoom});i={country:"us"};this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("searchTerm"),{types:["(regions)"],componentRestrictions:i});this.autocomplete.setFields(["address_components","geometry","icon","name"]);google.maps.event.addListener(t.autocomplete,"place_changed",function(){var n=t.autocomplete.getPlace(),i="",r;n.geometry&&n.address_components&&(i=[n.address_components[0]&&n.address_components[0].short_name||"",n.address_components[1]&&n.address_components[1].short_name||"",n.address_components[2]&&n.address_components[2].short_name||""].join(" "),t.noSuggest=!1,r={search:{searchTerm:i},searchComponent:"search using suggestions"},sendAnalytics(r,"search"))});this.currentMarker;this.currentGeometryObj=null;this.searchEventsEnabled=!1;this.paginationEventsEnabled=!1;this.epiData=[];this.markersData=[];this.markersList=[];this.pinsList=[];this.pages=[];this.currentPage=0;this.numItemsToShow=this.gMapLocator.data("items-to-show");this.numPaginationLimit=this.gMapLocator.data("pagination-limit");this.sliceBegin=0;this.sliceEnd=this.numPaginationLimit;this.numOfPages=0;this.middlePaginationLimit=Math.round(this.numPaginationLimit/2);this.activeInfoWindow;this.enableSearchEvents();this.displayAllOnLoad&&(r={lat:this.initLat,lng:this.initLng},this.map.setCenter(r),this.replaceCurrentMarker(this.initLat,this.initLng),this.findPins(this.initLat,this.initLng,this.getFilterValue()));this.geolocate();this.InitDisclaimer()}function sendAnalytics(n,t){AnalyticsLog&&console.log("Send Analytics: ",n,t);try{if(typeof dataLayer!="undefined"){for(var i in n)dataLayer[i]=n[i];_satellite.track(t)}}catch(r){console.log("Analytics failed: "+r)}try{if(typeof dataLayerOnco!="undefined")switch(t){case"close":sendGtmEventDataLayerOnco("locations","click on allow autopulated search",n.search.searchTerm);break;case"block":sendGtmEventDataLayerOnco("locations","click on block autopulated search",n.search.searchTerm);break;case"autopopulate":sendGtmEventDataLayerOnco("locations","click on allow autopulated search",n.search.searchTerm);break;case"search":n.searchComponent=="search button clicked"?sendGtmEventDataLayerOnco("locations","click on search button",n.search.searchTerm):n.searchComponent=="search using suggestions"?sendGtmEventDataLayerOnco("locations","click on suggestion search",n.search.searchTerm):sendGtmEventDataLayerOnco("locations",n.searchComponent,n.search.searchTerm);break;case"bubble":n.searchComponent=="left navigation"?sendGtmEventDataLayerOnco("locations","click on a result from left navigation",n.bubbleInfo.location):n.searchComponent=="bubble"&&sendGtmEventDataLayerOnco("locations","select a pin on map",n.bubbleInfo.location)}}catch(r){console.log("Analytics failed: "+r)}}function sendGtmEventDataLayerOnco(n,t,i){typeof dataLayerOnco!="undefined"&&dataLayerOnco.push({event:"gtm_event",eventInfo:{category:n?n:"",action:t?t:"",label:i?i:""}})}function MosaicModal(n,t){var i=this;this.modal=$(n).find(".modal");this.tiles=t;this.body=this.modal.find(".swipe-wrapper");this.curIndex=0;this.buttonNext=this.modal.find(".btn-next");this.buttonPrev=this.modal.find(".btn-prev");this.story=null;this.animation=!1;this.player=null;this.modal.prependTo("body");this.buttonNext.on("click",function(){i.showNextStory()});this.buttonPrev.on("click",function(){i.showPrevStory()});this.modal.on("hide.bs.modal",function(){i.clearContent()});this.modal.swipe({swipe:function(n,t){i.swipeContent(t)},allowPageScroll:"vertical",fallbackToMouseEvents:!1})}function Tiles(n){return this.tile=document.querySelector(".dummyBox"),this.grid=[],this.cards=[],this.curSettings=n,this.draw(),this.cards}function Mosaic(n){this.heading=n.querySelector(".heading");this.subheading=n.querySelector(".subheading");this.container=n.querySelector(".grid");this.dummyBox=n.querySelector(".dummyBox");this.controls={prev:n.querySelector(".control.prev"),next:n.querySelector(".control.next")};this.slides=[];this.curSlide=0;this.isAnimated=!1;this.tiles=$(this.container).find(".grid-tile");this.modal=new MosaicModal(n,this.tiles);this.sortedTiles=[];this.colors={heading:"",subheading:""};this.settings={phones:{rows:40,cols:8,numberOfAllTiles:180,numberOfBig:7,nubmerOfMedium:27,numberOfSmallTiles:144,head:{position:{row:2,col:0},size:{row:4,col:6}},subhead:{position:{row:16,col:4},size:{row:4,col:4}},controls:{position:{row:0,col:0},size:{row:0,col:0}}},tablet:{rows:14,cols:16,numberOfAllTiles:36,numberOfBig:4,nubmerOfMedium:24,numberOfSmallTiles:0,head:{position:{row:0,col:0},size:{row:4,col:6}},subhead:{position:{row:8,col:10},size:{row:4,col:4}},controls:{position:{row:12,col:10},size:{row:2,col:4}}},medium:{rows:10,cols:20,numberOfAllTiles:56,numberOfBig:3,nubmerOfMedium:17,numberOfSmallTiles:0,head:{position:{row:0,col:0},size:{row:4,col:6}},subhead:{position:{row:6,col:16},size:{row:4,col:4}},controls:{position:{row:8,col:12},size:{row:2,col:4}}},desktops:{rows:8,cols:24,numberOfAllTiles:33,numberOfBig:4,nubmerOfMedium:17,numberOfSmallTiles:0,head:{position:{row:0,col:0},size:{row:4,col:6}},subhead:{position:{row:4,col:20},size:{row:4,col:4}},controls:{position:{row:6,col:16},size:{row:2,col:4}}},desktops2:{rows:10,cols:26,numberOfAllTiles:84,numberOfBig:5,nubmerOfMedium:24,numberOfSmallTiles:0,head:{position:{row:2,col:0},size:{row:4,col:6}},subhead:{position:{row:4,col:20},size:{row:4,col:6}},controls:{position:{row:8,col:20},size:{row:2,col:4}}},desktops3:{rows:10,cols:32,numberOfAllTiles:91,numberOfBig:6,nubmerOfMedium:38,numberOfSmallTiles:0,head:{position:{row:2,col:0},size:{row:4,col:8}},subhead:{position:{row:4,col:24},size:{row:4,col:6}},controls:{position:{row:8,col:24},size:{row:2,col:4}}}};this.curSettings={};this.draw();this.bindControls()}function showComplete(){var n,t;$(".survey-carousel").hide();$(".survey-complete").show();n=$(".survey-block .carousel");n.find("input[type=checkbox]:checked").each(function(){var n=$(this),t=$("<input/>").attr("name",n.attr("name")).attr("value",n.val()).attr("type","hidden");t.appendTo(".email-results form, .download-results form")});n.find("input[type=radio]:checked,input[type=range]").each(function(){var n=$(this),t=$("<input/>").attr("name",n.attr("id")).attr("value",n.val()).attr("type","hidden");t.appendTo(".email-results form, .download-results form")});n.find("input[type=text],textarea").each(function(){var n=$(this),t=$("<input/>").attr("name",n.attr("name")).attr("value",n.val()).attr("type","hidden");t.appendTo(".email-results form, .download-results form")});n.find("select").each(function(){var n=$(this),t=n.find("option:selected").each(function(){var n=$(this),t=$("<input/>").attr("name",n.val()).attr("value",n.text()).attr("type","hidden");t.appendTo(".email-results form, .download-results form")})});t=$("div.item.survey-question.active h3").text().trim();window.dataLayerOnco=window.dataLayerOnco||[];dataLayerOnco.push({event:"gtm_event",eventInfo:{category:"quiz",action:"complete quiz",label:t}})}function OnSubmitSurveyStart(){$("#submitSurveyEmail").button("loading")}function OnSubmitSurveySuccess(){$("#submitSurveyEmail").button("reset");$(".email-results").hide();$(".email-confirm").show()}function ScreenerToolComplete(){var n,t,i,r;$(".survey-carousel").hide();n=$(".survey-block .carousel");t={BlockId:jQuery.data(n[0],"blockid")};n.find("input[type=radio]:checked,input[type=range]").each(function(){var n=$(this),i={};i[n.attr("id")]=n.val();$.extend(t,i)});i="/modules/DigiOne.Oncology.Library/ScreenerToolBlock/Check";r=function(n){n.Eligible?($(".survey-complete, .survey-eligible").show(),$(".survey-complete-page-description").html(n.Message)):($(".survey-complete, .survey-not-eligible").show(),$(".survey-complete-page-description").html(n.Message))};$.ajax({type:"POST",url:i,data:t,success:r})}function closeMovingOnModal(){$("#movingOnDisclaimer").modal("hide")}function gtmEventDataLayerOnco(n,t,i){dataLayerOnco.push({event:"gtm_event",eventInfo:{category:n?n:"",action:t?$.trim(t.replace(/[^ -~]+/g,"")):"",label:i?$.trim(i.replace(/[^ -~]+/g,"")):""}})}function exitLinkOnco(){var n=$(this).attr("href"),t=isExternalLink(n);t&&gtmEventDataLayerOnco("exit links","click on exit link",n)}function isExternalLink(n){var i=$(this).data("target"),t=n.split("?");return t[0].indexOf("http")!=-1&&t[0].indexOf(window.location.hostname)==-1&&i!="none"?!0:!1}function getFile(n){return n.substr(n.lastIndexOf("/")+1).split(".")[0]}function OnSubmitCompletePrintableInventory(){checkIfActive();var n=$(".product-printable-inventory").offset().top;$(window).width()<1024&&(n=n-75);$("html, body").scrollTop(n);$(".gc-content-left-column").on("change",".product-printable-inventory-checkbox",function(){var n=!1,t=$(".product-printable-inventory-submit-button").hasClass("value-selected");$(".product-printable-inventory-checkbox").each(function(){var t=$(this);t.is(":checked")&&(n=!0)});n?$(".product-printable-inventory-submit-button").removeAttr("disabled"):$(".product-printable-inventory-step:last-child").hasClass("active")&&t==!1&&$(".primary-brand-color-bg").attr({disabled:"disabled"})})}function checkIfActive(){var n=!1;$(".product-printable-inventory-checkbox").each(function(){var t=$(this);t.is(":checked")&&(n=!0)});n&&$(".product-printable-inventory-submit-button").removeAttr("disabled")}function LoadAnswerEvents(){$(".products-quiz-answer-component img-responsive").load(setEqualHeight());$(".products-quiz-answer-component").on("click",function(){$(".products-quiz-answer-component").removeClass("primary-brand-color-bg");$(".products-quiz-answer-component").addClass("primary-brand-color-bg-hover-15");$(this).addClass("primary-brand-color-bg");$(this).removeClass("primary-brand-color-bg-hover-15");var t=$('input[name="answer-id"]',this).val(),n=$(this).parents("#products-quiz-form");$(".products-quiz-answer-description-container > div",n).hide();typeof t!="undefined"&&t!=""&&$("#products-quiz-answer-component-"+t,n).show();$('input[name="answer-correct"]',this).val()=="True"&&$(".products-quiz-form-button",n).show();$(this).find("#answer-correct").val()=="False"&&$(".products-quiz-form-button",n).hide()})}function OnSubmitComplete(){LoadAnswerEvents();setEqualHeight()}function setEqualHeight(){setTimeout(function(){var n=0;$(".products-quiz-answer-component").each(function(){$(this).css("height","auto");$(this).outerHeight()>n&&(n=$(this).outerHeight())});$(".products-quiz-answer-component").each(function(){$(this).css("height",n)})},330)}var DigiOne,privacyPolicyDisclaimer,ImageGallery;window.AnalyticsLog=!1;CenterFinder.prototype.geolocate=function(){function t(n){n?console.log("Error: The Geolocation service failed."):console.log("Error: Your browser doesn't support geolocation.")}var n=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var i={lat:t.coords.latitude,lng:t.coords.longitude};n.map.setCenter(i);n.replaceCurrentMarker(t.coords.latitude,t.coords.longitude);n.getUserZipCode();n.displayAllOnLoad?(n.sortMarkers(),n.fitBounds(n)):(n.findPins(t.coords.latitude,t.coords.longitude,n.getFilterValue()),n.filter(),n.InitDisclaimer($(".marker2site, .marker2map")));n.removeAllPins();n.sortMarkers();n.changePage();n.setCenterByDefault()},function(n){t(!0);console.log(n);var i={search:{searchTerm:$("#searchTerm").val()}};n.code==n.PERMISSION_DENIED?sendAnalytics(i,"block"):sendAnalytics(i,"close")}):t(!1)};CenterFinder.prototype.getFilterValue=function(){return $(".js-filter-radio:checked").length>0?$(".js-filter-radio:checked").val():""};CenterFinder.prototype.getUserZipCode=function(){var n=new google.maps.Geocoder;n.geocode({address:this.currentMarker.position.lat()+","+this.currentMarker.position.lng()},function(n,t){var r,i,u;t=="OK"&&(r=n[0].address_components.filter(function(n){return n.types[0]=="postal_code"}),r.length>0&&(i=r[0].short_name,$(".centerfinder-search-text").html(i),$("#searchTerm").val(i),u={search:{searchTerm:i},searchComponent:"autopopulate search"},sendAnalytics(u,"autopopulate")))})};CenterFinder.prototype.setCenterByDefault=function(){this.activeInfoWindow&&this.activeInfoWindow.close();this.map.setCenter({lat:this.initLat,lng:this.initLng});this.map.setZoom(this.initZoom)};CenterFinder.prototype.findPins=function(n,t,i,r){var u=this,f=this.format("//{0}/CenterFinderBlock/FindMarkers/{1}/{2}/{3}/{4}",window.location.hostname,this.blockId,n,t,i);$.ajax({url:f,method:"GET",dataType:"json"}).done(function(n){u.epiData=n;u.filter();u.displayAllOnLoad&&u.sortMarkers();u.removeAllPins();u.changePage();u.InitDisclaimer($(".marker2site, .marker2map"));typeof r=="function"&&r(u)}).fail(function(n,t,i){console.log("Fail I don't get any data: "+i);console.log("Status: "+t)})};CenterFinder.prototype.initLoad=function(){this.renderPagination();this.renderMarkersList();this.renderPins();this.bindEvents()};CenterFinder.prototype.filter=function(n,t){function f(n,t){this.index=n;this.selected=t;this.pageNumber=n+1}var i=this,u,r;if(typeof n!="undefined"&&n!=null&&n!="")for(u=i.epiData.filter(function(t){return t.Tags!=null&&Array.isArray(t.Tags)&&t.Tags.length>0?typeof t.Tags.find(function(t){return t.Code==n})!="undefined":!1}),i.markersData=$.extend(!0,[],u),r=0;r<i.markersData.length;r++)i.markersData[r].order=(r+1).toString();else i.markersData=i.epiData;if(i.markersData!==null){for(i.numOfPages=Math.ceil(i.markersData.length/i.numItemsToShow),i.pages!=null&&i.pages.length>0&&(i.pages=[]),r=0;r<i.numOfPages;r++)i.pages.push(new f(r,r==0));this.currentPage=0;typeof t!="undefined"&&t?(i.removeAllPins(),i.changePage()):i.initLoad()}};CenterFinder.prototype.HandleSearchResult=function(n,t){var i=this,u,e,r,f,o;if($(".centerfinder-search-text").html(""),t=="OK")if(u=n[0],e=u.address_components.map(function(n){return n.short_name==="US"}).indexOf(!0)>-1,e){for($(".centerfinder-search-text").html($("#searchTerm").val()),i.removeAllPins(),r=u.geometry.location,i.map.setCenter({lat:r.lat(),lng:r.lng()}),i.replaceCurrentMarker(r.lat(),r.lng()),f=0;f<i.pages.length;f++)i.pages[f].selected=f===0;i.currentPage=0;o=function(n){u.geometry&&u.geometry.viewport&&(n.currentGeometryObj=u.geometry,n.fitBounds(n))};i.findPins(r.lat(),r.lng(),i.getFilterValue(),o)}else i.showError(!0);else i.showError(!1)};CenterFinder.prototype.fitBounds=function(n){var r,t;if(n.currentGeometryObj!=null){if(r=n.currentGeometryObj.viewport,t=new google.maps.LatLngBounds,typeof n.markersData!="undefined"&&n.markersData.length>0){var i=new google.maps.LatLng({lat:n.markersData[0].Latitude,lng:n.markersData[0].Longitude}),u=n.currentGeometryObj.location.lat()+(n.currentGeometryObj.location.lat()-i.lat()),f=n.currentGeometryObj.location.lng()+(n.currentGeometryObj.location.lng()-i.lng()),e=new google.maps.LatLng({lat:u,lng:f});t.extend(n.currentGeometryObj.location);t.extend(i);t.extend(e)}else t=n.currentGeometryObj.viewport;n.map.fitBounds(t)}};CenterFinder.prototype.bindEvents=function(){if(!this.paginationEventsEnabled){var n=this;$(".homepage").on("click",".centerfinder-pages li",function(){n.pages[n.currentPage].index!==$(this).data("page")&&($(".centerfinder-pages li").removeClass("active"),n.pages[n.currentPage].selected=!1,$(this).addClass("active"),n.currentPage=$(this).data("page"),n.pages[n.currentPage].selected=!0,n.changePage(),n.InitDisclaimer($(".marker2site, .marker2map")))});$(".js-filter-radio").on("change",function(){var t=$(this);n.findPins(n.currentMarker.getPosition().lat(),n.currentMarker.getPosition().lng(),t.val(),n.fitBounds)});this.paginationEventsEnabled=!0}};CenterFinder.prototype.enableSearchEvents=function(){var n,t;if(!this.searchEventsEnabled){n=this;$("#searchTerm").keydown(function(t){var r=t.which,i;r===13&&(t.preventDefault(),$(this).blur(),n.noSuggest=!0,setTimeout(function(){if(n.noSuggest){var t={search:{searchTerm:$("#searchTerm").val()},searchComponent:"search using enter key"};sendAnalytics(t,"search")}},1e3),i=new google.maps.Geocoder,i.geocode({address:$("#searchTerm").val()},function(t,i){n.HandleSearchResult(t,i)}));$(this).val()!=""?$(this).next(".clean-input").show():$(this).next(".clean-input").hide()});$(".centerfinder-input").focus(function(){$(this).removeClass("error");$(".centerfinder-search-error").removeClass("error")});$(".centerfinder-btn-search").on("click",function(t){var i,r;t.preventDefault();i=new google.maps.Geocoder;i.geocode({address:$("#searchTerm").val()},function(t,i){n.HandleSearchResult(t,i)});r={search:{searchTerm:$("#searchTerm").val()},searchComponent:"search button clicked"};sendAnalytics(r,"search")});$(".centerfinder-input-field .clean-input").on("click",function(){$("#searchTerm").val("");$(this).hide()});t=function(){var t=n.autocomplete.getPlace();t.address_components!=null&&Array.isArray(t.address_components)&&t.address_components.length>0&&n.HandleSearchResult([t],"OK")};n.autocomplete.addListener("place_changed",t);this.searchEventsEnabled=!0}};CenterFinder.prototype.format=function(n){for(var t in arguments)t>0&&(n=n.replace("{"+(t-1)+"}",arguments[t]));return n};CenterFinder.prototype.updateErrorPlaceholder=function(n,t){var i=$(".centerfinder-search-error");n=this.format(n,"<b>"+t.trim()+"<\/b>");i.html(n)};CenterFinder.prototype.showError=function(n){this.setCenterByDefault();var i="",t=$(".centerfinder-search-error");i=n?t.data("error-outside"):t.data("error");this.updateErrorPlaceholder(i,$("#searchTerm").val());$(".centerfinder-search").addClass("error");t.addClass("error")};CenterFinder.prototype.renderPagination=function(){var r=$(".centerfinder-pagination"),t="<ul class='centerfinder-pages primary-brand-color'>",u=this,n=this.pages[this.currentPage],i=!1;n!=null&&n.index+this.middlePaginationLimit>=this.numPaginationLimit&&this.numOfPages>this.numPaginationLimit?(this.sliceBegin=n.index-Math.round(this.numPaginationLimit/2),this.sliceBegin=this.sliceBegin<=0?0:this.sliceBegin,this.sliceEnd=n.index+Math.round(this.numPaginationLimit/2),n.index+this.middlePaginationLimit>this.numOfPages?(this.sliceEnd=this.numOfPages,this.sliceBegin=this.numOfPages-this.numPaginationLimit+1,i=!0):n.index>this.middlePaginationLimit&&this.middlePaginationLimit+n.index!==this.numPaginationLimit&&this.numPaginationLimit>1?(this.sliceBegin=this.sliceEnd-this.numPaginationLimit+1,this.sliceEnd+1===this.numOfPages&&(this.sliceEnd+=1),i=!0):(this.sliceBegin=this.sliceEnd-this.numPaginationLimit+1,n.index+this.middlePaginationLimit>=this.numPaginationLimit&&(i=!0)),this.currentPage+this.middlePaginationLimit>=this.numOfPages&&(this.sliceBegin=this.sliceEnd-this.numPaginationLimit),this.numPaginationLimit===1&&(this.sliceBegin=n.index),this.numPaginationLimit===1&&n.index===0&&(i=!1),i&&(t+="<li data-page='"+(n.index-1)+"' >&lsaquo;<\/li>")):(this.sliceBegin=0,this.sliceEnd=this.numPaginationLimit);$.map(u.pages.slice(this.sliceBegin,this.sliceEnd),function(n){t+="<li data-page='"+n.index+"' "+(n.selected?" class='active' ":"")+">"+(n.index+1)+"<\/li>"});n!=null&&n.index+this.middlePaginationLimit<this.numOfPages&&this.numOfPages-n.index>this.middlePaginationLimit&&this.sliceEnd!=this.numOfPages&&this.numOfPages>this.numPaginationLimit&&(t+="<li data-page='"+(n.index+1)+"' >&rsaquo;<\/li>");t+="<\/ul>";r.html(t);$("body").scrollTop($(".google-map-locator").offset().top)};CenterFinder.prototype.changePage=function(){this.renderPagination();this.renderMarkersList();this.renderPins()};CenterFinder.prototype.refreshPins=function(){this.removeAllPins();this.renderPins()};CenterFinder.prototype.replaceCurrentMarker=function(n,t){var i=this;this.currentMarker&&this.currentMarker.getMap()!=null&&this.currentMarker.setMap(null);this.currentMarker=new google.maps.Marker({position:{lat:n,lng:t},map:i.map})};CenterFinder.prototype.afterAddInfo=function(n){$(".centerfinder-marker-search-item").removeClass("active").find(".active").removeClass("active");var t=$(".marker-item-"+n.order);t.find(".centerfinder-location-number").addClass("active");t.addClass("active")};CenterFinder.prototype.addPin=function(n,t){var i=this,u=n.order.length>2?"9px":"12px",r=new google.maps.InfoWindow({content:'<div class="markerWI">'+t+"<\/div>",domready:function(){i.afterAddInfo(n)},closeclick:function(){$(".centerfinder-marker-search-item").find(".active").removeClass("active")}}),n=new google.maps.Marker({position:{lat:n.Latitude,lng:n.Longitude},map:i.map,title:n.Center.replace("<br>"," "),label:{text:n.order,color:"white",fontSize:u}});return n.addListener("click",function(){i.activeInfoWindow&&i.activeInfoWindow.close();google.maps.event.addListener(r,"domready",i.InfoWindowDOMReadyHandler);r.open(i.map,n);i.activeInfoWindow=r;var t={bubbleInfo:{location:n.title},searchComponent:"bubble"};sendAnalytics(t,"bubble")}),{marker:n,infoWindow:r}};CenterFinder.prototype.focusPin=function(n){var i,t,r;this.refreshPins();this.map.setZoom(14);i={lat:n.Latitude,lng:n.Longitude};t=this.pinsList[n.order-1];this.activeInfoWindow&&this.activeInfoWindow.close();google.maps.event.addListener(t.infoWindow,"domready",this.InfoWindowDOMReadyHandler);t.infoWindow.open(this.map,t.marker);this.activeInfoWindow=t.infoWindow;this.map.panTo(i);r={bubbleInfo:{location:n.Center},searchComponent:"left navigation"};sendAnalytics(r,"bubble")};CenterFinder.prototype.InfoWindowDOMReadyHandler=function(){try{interstitialSetupExternalLinks($(".marker2site, .marker2map"))}catch(n){}};CenterFinder.prototype.InitDisclaimer=function(n){try{interstitialSetupExternalLinks(n)}catch(t){}};CenterFinder.prototype.removeMarker=function(n){n.setMap(null)};CenterFinder.prototype.removeAllPins=function(){this.pinsList.forEach(function(n){n.marker.setMap(null)});this.pinsList=[]};CenterFinder.prototype.clearMarkers=function(){this.markersData!=null?$(".centerfinder-result-search-count").html(this.markersData.length):$(".centerfinder-result-search-count").html("0");$(".centerfinder-markers").html("")};CenterFinder.prototype.sortMarkers=function(){if(this.markersData!=null){var n=this;this.markersData.forEach(function(t){var i=n.getDistanceFromLatLonInMiles(t.Latitude,t.Longitude);t.Distance=i;t.distanceFromCurrent=i.toFixed(2)});this.markersData.sort(n.sortByDistance);$(".marker-pagination").html();this.markersData.forEach(function(t,i){n.markersData[i].order=(i+1).toString()})}};CenterFinder.prototype.renderMarkersList=function(){var n=this;(this.clearMarkers(),n.markersData!=null&&n.markersData.length!=0)&&$.map(n.markersData.slice(n.pages[n.currentPage].index*n.numItemsToShow,n.pages[n.currentPage].pageNumber*n.numItemsToShow),function(t){var r,u,i,f;t.Center=t.Center?t.Center:"";t.Address=t.Address?t.Address:"";t.City=t.City?t.City:"";t.State=t.State?t.State:"";t.ZIP=t.ZIP?t.ZIP:"";t.ContactPerson=t.ContactPerson?t.ContactPerson:"";t.PhoneNumber=t.PhoneNumber?t.PhoneNumber:"";t.PhoneNumber2=t.PhoneNumber2?t.PhoneNumber2:"";t.PhoneNumberPrefix=t.PhoneNumberPrefix?t.PhoneNumberPrefix+" ":"";t.PhoneNumber2Prefix=t.PhoneNumber2Prefix?t.PhoneNumber2Prefix+" ":"";t.Website=t.Website?t.Website:"";t.CertificationStatus=t.CertificationStatus?t.CertificationStatus:"";t.Tags=t.Tags?t.Tags:[];r=t.Website?"Website":"";u=t.order.length>2?"small":"normal";i='<div class="centerfinder-marker-search-item marker-item-'+t.order+'" data-order='+t.order+" data-lat="+t.Latitude+" data-lng="+t.Longitude+">";i+='<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 centerfinder-marker-item">';i+='<div class="centerfinder-location-number"><span class="'+u+'">'+t.order+"<\/span><\/div>";i+='<ul><li class="marker-title">'+t.Center+"<\/li>";i+='<li class="visible-xs address">'+t.Address+"<\/li>";i+='<li class="visible-xs address">'+t.City+" "+t.State+" "+t.ZIP+"<\/li>";i+='<li class="visible-xs address">'+t.ContactPerson+"<\/li>";i+='<li class="visible-xs phone">'+t.PhoneNumberPrefix+'<a class="primary-brand-color" href="tel:'+t.PhoneNumber+'">'+t.PhoneNumber+"<\/a><\/li>";i+='<li class="visible-xs">'+t.PhoneNumber2Prefix+'<a class="primary-brand-color" href="tel:'+t.PhoneNumber2+'">'+t.PhoneNumber2+"<\/a><\/li>";i+='<li><span class="certified">'+t.CertificationStatus+"<\/span><\/li>";i+=t.Tags.length==0?"":'<li class="center-type">'+t.Tags.map(function(n){return n.ImageUrl==null?"<span>"+n.Abbreviation+"<\/span>":'<img class="center-type" src='+n.ImageUrl+" />"}).join("")+"<\/li>";f=n.format("https://www.google.com/maps/dir/'{0},{1}'/'{2},{3}'/",n.currentMarker.position.lat(),n.currentMarker.position.lng(),t.Latitude,t.Longitude);i+='<li class="visible-xs hidden-item directions marker-item-'+t.order+'"><a href="'+f+'" class="marker2map primary-brand-color-bg primary-brand-color-bg-hover " data-target="#interstitialPopUp" data-lat="'+t.Latitude+'" data-order='+t.order+' data-lng="'+t.Longitude+'" target="_blank" >Get Directions<\/a><\/li>';t.Website!=""&&(i+='<li class="visible-xs website"><a class="marker2site primary-brand-color-bg primary-brand-color-bg-hover" href="'+t.Website+'" data-target="#interstitialPopUp" target="_blank" >'+r+"<\/a><\/li>");i+='<li class="distance">'+t.distanceFromCurrent+" miles<\/li><\/ul><\/div><\/div>";i=$(i);i.appendTo(".centerfinder-markers");i.on("click",function(){n.focusPin(t)});n.markersList.push(i)}).join("")};CenterFinder.prototype.renderPins=function(){if(this.markersData!=null){var n=this;this.markersData.forEach(function(t){var i="",u,r,f;t.XhtmlContent?r=n.addPin(t,t.XhtmlContent):(t.Center=t.Center?t.Center:"",t.Address=t.Address?t.Address:"",t.City=t.City?t.City:"",t.State=t.State?t.State:"",t.ZIP=t.ZIP?t.ZIP:"",t.ContactPerson=t.ContactPerson?t.ContactPerson:"",t.PhoneNumber=t.PhoneNumber?t.PhoneNumber:"",t.PhoneNumber2=t.PhoneNumber2?t.PhoneNumber2:"",t.PhoneNumberPrefix=t.PhoneNumberPrefix?t.PhoneNumberPrefix+" ":"",t.PhoneNumber2Prefix=t.PhoneNumber2Prefix?t.PhoneNumber2Prefix+" ":"",t.Website=t.Website?t.Website:"",t.CertificationStatus=t.CertificationStatus?t.CertificationStatus:"",t.Tags=t.Tags?t.Tags:[],u=t.Website?"Website":"",i+='<div class="markerWItitleLabel">'+t.Center+"<\/div>",i+='<div class="address">',i+='<div class="markerWIAddress">'+t.Address+"<\/div>",i+='<div class="markerWICity">'+t.City+" "+t.State+" "+t.ZIP+"<\/div>",i+="<\/div>",i+='<div class="contact">',i+='<div class="markerWIContact">'+t.ContactPerson+"<\/div>",i+='<div class="markerWIPhone">'+t.PhoneNumberPrefix+t.PhoneNumber+"<\/div>",i+='<div class="markerWIPhone">'+t.PhoneNumber2Prefix+t.PhoneNumber2+"<\/div>",i+="<\/div>",i+='<div class="markerWICertificationStatus">'+t.CertificationStatus+"<\/div>",i+=t.Tags.length==0?"":'<div class="markerWICenterType">'+t.Tags.map(function(n){return n.ImageUrl==null?"<span>"+n.Abbreviation+"<\/span>":'<img class="center-type"  src='+n.ImageUrl+" />"}).join("")+"<\/div>",f=n.format("https://www.google.com/maps/dir/'{0},{1}'/'{2},{3}'/",n.currentMarker.position.lat(),n.currentMarker.position.lng(),t.Latitude,t.Longitude),i+='<div class="markerWIDirections"><a class="marker2map primary-brand-color-bg primary-brand-color-bg-hover " href="'+f+'" data-target="#interstitialPopUp" target="_blank">Get Directions<\/a><\/div>',t.Website!=""&&(i+='<div class="markerWIWebsite"><a class="marker2site primary-brand-color-bg primary-brand-color-bg-hover " href="'+t.Website+'" data-target="#interstitialPopUp" target="_blank">'+u+"<\/a><\/div>"),i+='<div class="markerWIDistance"><span>'+t.distanceFromCurrent+"<\/span> miles<\/div>",r=n.addPin(t,i));n.pinsList.push(r)})}};CenterFinder.prototype.getDistanceFromLatLonInMiles=function(n,t){function i(n){return n*(Math.PI/180)}var r,u;this.currentMarker!==undefined&&(r=this.currentMarker.position.lat(),u=this.currentMarker.position.lng());var f=i(n-r),e=i(t-u),o=Math.sin(f/2)*Math.sin(f/2)+Math.cos(i(r))*Math.cos(i(n))*Math.sin(e/2)*Math.sin(e/2),s=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return 6371*s*.621371192};CenterFinder.prototype.sortByDistance=function(n,t){var i=parseFloat(n.Distance),r=parseFloat(t.Distance);return i-r};CenterFinder.prototype.captureSearchTerm=function(){};$(document).ready(function(){var n=$(".google-map-locator"),t;n.length>0&&(t=new CenterFinder($(".google-map-locator")))});$(document).ready(function(){}),function(n,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(["jquery","googlemaps!"],t):n.GMaps=t()}(this,function(){var t=function(n,t){var i;if(n===t)return n;for(i in t)t[i]!==undefined&&(n[i]=t[i]);return n},a=function(n,t){var i;if(n===t)return n;for(i in t)n[i]!=undefined&&(n[i]=t[i]);return n},o=function(n,t){var u=Array.prototype.slice.call(arguments,2),r=[],f=n.length,i;if(Array.prototype.map&&n.map===Array.prototype.map)r=Array.prototype.map.call(n,function(n){var i=u.slice(0);return i.splice(0,0,n),t.apply(this,i)});else for(i=0;i<f;i++)callback_params=u,callback_params.splice(0,0,n[i]),r.push(t.apply(this,callback_params));return r},s=function(n){for(var i=[],t=0;t<n.length;t++)i=i.concat(n[t]);return i},h=function(n,t){var i=n[0],r=n[1];return t&&(i=n[1],r=n[0]),new google.maps.LatLng(i,r)},u=function(n,t){for(var i=0;i<n.length;i++)n[i]instanceof google.maps.LatLng||(n[i]=n[i].length>0&&typeof n[i][0]=="object"?u(n[i],t):h(n[i],t));return n},c=function(n,t){var i=n.replace(".","");return"jQuery"in this&&t?$("."+i,t)[0]:document.getElementsByClassName(i)[0]},i=function(n,t){var n=n.replace("#","");return"jQuery"in window&&t?$("#"+n,t)[0]:document.getElementById(n)},l=function(n){var t=0,i=0;if(n.offsetParent)do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return[t,i]},n=function(){"use strict";var n=document,r=function(u){var d,g,o,h,w,b;if(!(typeof google=="object"&&window.google.maps))return typeof console=="object"&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};if(!this)return new r(u);u.zoom=u.zoom||15;u.mapType=u.mapType||"roadmap";u.mapType=="roadmap"&&(u.maxZoom=22);var s=function(n,t){return n===undefined?t:n},e=this,f,a=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],v=["mousemove","mouseout","mouseover"],nt=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],y=u.el||u.div,tt=u.markerClusterer,ut=google.maps.MapTypeId[u.mapType.toUpperCase()],ft=new google.maps.LatLng(u.lat,u.lng),et=s(u.zoomControl,!0),it=u.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},ot=it.style||"DEFAULT",st=it.position||"TOP_LEFT",ht=s(u.panControl,!0),ct=s(u.mapTypeControl,!0),lt=s(u.scaleControl,!0),at=s(u.streetViewControl,!0),rt=s(rt,!0),p={},k={zoom:this.zoom,center:ft,mapTypeId:ut},vt={panControl:ht,zoomControl:et,zoomControlOptions:{style:google.maps.ZoomControlStyle[ot],position:google.maps.ControlPosition[st]},mapTypeControl:ct,scaleControl:lt,streetViewControl:at,overviewMapControl:rt};if(this.el=typeof u.el=="string"||typeof u.div=="string"?y.indexOf("#")>-1?i(y,u.context):c.apply(this,[y,u.context]):y,typeof this.el=="undefined"||this.el===null)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[e.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=u.zoom,this.registered_events={},this.el.style.width=u.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=u.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=u.enableNewStyle,f=0;f<nt.length;f++)delete u[nt[f]];for(u.disableDefaultUI!=!0&&(k=t(k,vt)),p=t(k,u),f=0;f<a.length;f++)delete p[a[f]];for(f=0;f<v.length;f++)delete p[v[f]];for(this.map=new google.maps.Map(this.el,p),tt&&(this.markerClusterer=tt.apply(this,[this.map])),d=function(n,t){var h="",f=window.context_menu[e.el.id][n],c,u,o,a,r,s,v;for(r in f)f.hasOwnProperty(r)&&(c=f[r],h+='<li><a id="'+n+"_"+r+'" href="#">'+c.title+"<\/a><\/li>");if(i("gmaps_context_menu")){for(u=i("gmaps_context_menu"),u.innerHTML=h,o=u.getElementsByTagName("a"),a=o.length,r=0;r<a;r++)s=o[r],v=function(i){i.preventDefault();f[this.id.replace(n+"_","")].action.apply(e,[t]);e.hideContextMenu()},google.maps.event.clearListeners(s,"click"),google.maps.event.addDomListenerOnce(s,"click",v,!1);var y=l.apply(this,[e.el]),p=y[0]+t.pixel.x-15,w=y[1]+t.pixel.y-15;u.style.left=p+"px";u.style.top=w+"px"}},this.buildContextMenu=function(n,t){var r,u;n==="marker"?(t.pixel={},r=new google.maps.OverlayView,r.setMap(e.map),r.draw=function(){var i=r.getProjection(),u=t.marker.getPosition();t.pixel=i.fromLatLngToContainerPixel(u);d(n,t)}):d(n,t);u=i("gmaps_context_menu");setTimeout(function(){u.style.display="block"},0)},this.setContextMenu=function(t){var f,r,u,o;window.context_menu[e.el.id][t.control]={};r=n.createElement("ul");for(f in t.options)t.options.hasOwnProperty(f)&&(u=t.options[f],window.context_menu[e.el.id][t.control][u.name]={title:u.title,action:u.action});r.id="gmaps_context_menu";r.style.display="none";r.style.position="absolute";r.style.minWidth="100px";r.style.background="white";r.style.listStyle="none";r.style.padding="8px";r.style.boxShadow="2px 2px 6px #ccc";i("gmaps_context_menu")||n.body.appendChild(r);o=i("gmaps_context_menu");google.maps.event.addDomListener(o,"mouseout",function(n){n.relatedTarget&&this.contains(n.relatedTarget)||window.setTimeout(function(){o.style.display="none"},400)},!1)},this.hideContextMenu=function(){var n=i("gmaps_context_menu");n&&(n.style.display="none")},g=function(n,t){google.maps.event.addListener(n,t,function(n){n==undefined&&(n=this);u[t].apply(this,[n]);e.hideContextMenu()})},google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu),o=0;o<a.length;o++)h=a[o],h in u&&g(this.map,h);for(o=0;o<v.length;o++)h=v[o],h in u&&g(this.map,h);google.maps.event.addListener(this.map,"rightclick",function(n){u.rightclick&&u.rightclick.apply(this,[n]);window.context_menu[e.el.id].map!=undefined&&e.buildContextMenu("map",n)});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){for(var t=[],i=this.markers.length,n=0;n<i;n++)typeof this.markers[n].visible=="boolean"&&this.markers[n].visible&&t.push(this.markers[n].getPosition());this.fitLatLngBounds(t)};this.fitLatLngBounds=function(n){for(var r=n.length,i=new google.maps.LatLngBounds,t=0;t<r;t++)i.extend(n[t]);this.map.fitBounds(i)};this.setCenter=function(n,t,i){this.map.panTo(new google.maps.LatLng(n,t));i&&i()};this.getElement=function(){return this.el};this.zoomIn=function(n){n=n||1;this.zoom=this.map.getZoom()+n;this.map.setZoom(this.zoom)};this.zoomOut=function(n){n=n||1;this.zoom=this.map.getZoom()-n;this.map.setZoom(this.zoom)};w=[];for(b in this.map)typeof this.map[b]!="function"||this[b]||w.push(b);for(f=0;f<w.length;f++)(function(n,t,i){n[i]=function(){return t[i].apply(t,arguments)}})(this,this.map,w[f])};return r}(this),r,f;return n.prototype.createControl=function(n){var t=document.createElement("div"),i,r;t.style.cursor="pointer";n.disableDefaultStyles!==!0&&(t.style.fontFamily="Roboto, Arial, sans-serif",t.style.fontSize="11px",t.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(i in n.style)t.style[i]=n.style[i];n.id&&(t.id=n.id);n.title&&(t.title=n.title);n.classes&&(t.className=n.classes);n.content&&(typeof n.content=="string"?t.innerHTML=n.content:n.content instanceof HTMLElement&&t.appendChild(n.content));n.position&&(t.position=google.maps.ControlPosition[n.position.toUpperCase()]);for(r in n.events)(function(t,i){google.maps.event.addDomListener(t,i,function(){n.events[i].apply(this,[this])})})(t,r);return t.index=1,t},n.prototype.addControl=function(n){var t=this.createControl(n);return this.controls.push(t),this.map.controls[t.position].push(t),t},n.prototype.removeControl=function(n){for(var r=null,i,t=0;t<this.controls.length;t++)this.controls[t]==n&&(r=this.controls[t].position,this.controls.splice(t,1));if(r)for(t=0;t<this.map.controls.length;t++)if(i=this.map.controls[n.position],i.getAt(t)==n){i.removeAt(t);break}return n},n.prototype.createMarker=function(n){var i,e,o,s,r;if(n.lat==undefined&&n.lng==undefined&&n.position==undefined)throw"No latitude or longitude defined.";var u=this,h=n.details,c=n.fences,l=n.outside,a={position:new google.maps.LatLng(n.lat,n.lng),map:null},f=t(a,n);if(delete f.lat,delete f.lng,delete f.fences,delete f.outside,i=new google.maps.Marker(f),i.fences=c,n.infoWindow)for(i.infoWindow=new google.maps.InfoWindow(n.infoWindow),e=["closeclick","content_changed","domready","position_changed","zindex_changed"],r=0;r<e.length;r++)(function(t,i){n.infoWindow[i]&&google.maps.event.addListener(t,i,function(t){n.infoWindow[i].apply(this,[t])})})(i.infoWindow,e[r]);for(o=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],s=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],r=0;r<o.length;r++)(function(t,i){n[i]&&google.maps.event.addListener(t,i,function(){n[i].apply(this,[this])})})(i,o[r]);for(r=0;r<s.length;r++)(function(t,i,r){n[r]&&google.maps.event.addListener(i,r,function(i){i.pixel||(i.pixel=t.getProjection().fromLatLngToPoint(i.latLng));n[r].apply(this,[i])})})(this.map,i,s[r]);return google.maps.event.addListener(i,"click",function(){this.details=h;n.click&&n.click.apply(this,[this]);i.infoWindow&&(u.hideInfoWindows(),i.infoWindow.open(u.map,i))}),google.maps.event.addListener(i,"rightclick",function(t){t.marker=this;n.rightclick&&n.rightclick.apply(this,[t]);window.context_menu[u.el.id].marker!=undefined&&u.buildContextMenu("marker",t)}),i.fences&&google.maps.event.addListener(i,"dragend",function(){u.checkMarkerGeofence(i,function(n,t){l(n,t)})}),i},n.prototype.pinColor=function(n){return{path:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z M -2,-30 a 2,2 0 1,1 4,0 2,2 0 1,1 -4,0",fillColor:n,fillOpacity:1,strokeColor:"#000",strokeWeight:2,scale:1}},n.prototype.addMarker=function(t){var i;if(t.hasOwnProperty("gm_accessors_"))i=t;else if(t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||t.position)i=this.createMarker(t);else throw"No latitude or longitude defined.";return i.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(i),this.markers.push(i),n.fire("marker_added",i,this),i},n.prototype.addMarkers=function(n){for(var t=0,i;i=n[t];t++)this.addMarker(i);return this.markers},n.prototype.hideInfoWindows=function(){for(var t=0,n;n=this.markers[t];t++)n.infoWindow&&n.infoWindow.close()},n.prototype.removeMarker=function(t){for(var i=0;i<this.markers.length;i++)if(this.markers[i]===t){this.markers[i].setMap(null);this.markers.splice(i,1);this.markerClusterer&&this.markerClusterer.removeMarker(t);n.fire("marker_removed",t,this);break}return t},n.prototype.removeMarkers=function(t){var u=[],f,i,r;if(typeof t=="undefined"){for(i=0;i<this.markers.length;i++)r=this.markers[i],r.setMap(null),n.fire("marker_removed",r,this);this.markerClusterer&&this.markerClusterer.clearMarkers&&this.markerClusterer.clearMarkers();this.markers=u}else{for(i=0;i<t.length;i++)f=this.markers.indexOf(t[i]),f>-1&&(r=this.markers[f],r.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(r),n.fire("marker_removed",r,this));for(i=0;i<this.markers.length;i++)r=this.markers[i],r.getMap()!=null&&u.push(r);this.markers=u}},n.prototype.drawOverlay=function(n){var t=new google.maps.OverlayView,i=!0;return t.setMap(this.map),n.auto_show!=null&&(i=n.auto_show),t.onAdd=function(){var i=document.createElement("div"),r;i.style.borderStyle="none";i.style.borderWidth="0px";i.style.position="absolute";i.style.zIndex=100;i.innerHTML=n.content;t.el=i;n.layer||(n.layer="overlayLayer");var u=this.getPanes(),e=u[n.layer],f=["contextmenu","DOMMouseScroll","dblclick","mousedown"];for(e.appendChild(i),r=0;r<f.length;r++)(function(n,t){google.maps.event.addDomListener(n,t,function(n){navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all?(n.cancelBubble=!0,n.returnValue=!1):n.stopPropagation()})})(i,f[r]);n.click&&(u.overlayMouseTarget.appendChild(t.el),google.maps.event.addDomListener(t.el,"click",function(){n.click.apply(t,[t])}));google.maps.event.trigger(this,"ready")},t.draw=function(){var s=this.getProjection(),u=s.fromLatLngToDivPixel(new google.maps.LatLng(n.lat,n.lng));n.horizontalOffset=n.horizontalOffset||0;n.verticalOffset=n.verticalOffset||0;var r=t.el,f=r.children[0],e=f.clientHeight,o=f.clientWidth;switch(n.verticalAlign){case"top":r.style.top=u.y-e+n.verticalOffset+"px";break;default:case"middle":r.style.top=u.y-e/2+n.verticalOffset+"px";break;case"bottom":r.style.top=u.y+n.verticalOffset+"px"}switch(n.horizontalAlign){case"left":r.style.left=u.x-o+n.horizontalOffset+"px";break;default:case"center":r.style.left=u.x-o/2+n.horizontalOffset+"px";break;case"right":r.style.left=u.x+n.horizontalOffset+"px"}r.style.display=i?"block":"none";i||n.show.apply(this,[r])},t.onRemove=function(){var i=t.el;n.remove?n.remove.apply(this,[i]):(t.el.parentNode.removeChild(t.el),t.el=null)},this.overlays.push(t),t},n.prototype.removeOverlay=function(n){for(var t=0;t<this.overlays.length;t++)if(this.overlays[t]===n){this.overlays[t].setMap(null);this.overlays.splice(t,1);break}},n.prototype.removeOverlays=function(){for(var n=0,t;t=this.overlays[n];n++)t.setMap(null);this.overlays=[]},n.prototype.drawPolyline=function(t){var e=[],u=t.path,o,s,i,r,h,f;if(u.length)if(u[0][0]===undefined)e=u;else for(o=0;s=u[o];o++)e.push(new google.maps.LatLng(s[0],s[1]));for(i={map:this.map,path:e,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,geodesic:t.geodesic,clickable:!0,editable:!1,visible:!0},t.hasOwnProperty("clickable")&&(i.clickable=t.clickable),t.hasOwnProperty("editable")&&(i.editable=t.editable),t.hasOwnProperty("icons")&&(i.icons=t.icons),t.hasOwnProperty("zIndex")&&(i.zIndex=t.zIndex),r=new google.maps.Polyline(i),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],f=0;f<h.length;f++)(function(n,i){t[i]&&google.maps.event.addListener(n,i,function(n){t[i].apply(this,[n])})})(r,h[f]);return this.polylines.push(r),n.fire("polyline_added",r,this),r},n.prototype.removePolyline=function(t){for(var i=0;i<this.polylines.length;i++)if(this.polylines[i]===t){this.polylines[i].setMap(null);this.polylines.splice(i,1);n.fire("polyline_removed",t,this);break}},n.prototype.removePolylines=function(){for(var n=0,t;t=this.polylines[n];n++)t.setMap(null);this.polylines=[]},n.prototype.drawCircle=function(n){var i,u,r;for(n=t({map:this.map,center:new google.maps.LatLng(n.lat,n.lng)},n),delete n.lat,delete n.lng,i=new google.maps.Circle(n),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<u.length;r++)(function(t,i){n[i]&&google.maps.event.addListener(t,i,function(t){n[i].apply(this,[t])})})(i,u[r]);return this.polygons.push(i),i},n.prototype.drawRectangle=function(n){var f,i,u,r;for(n=t({map:this.map},n),f=new google.maps.LatLngBounds(new google.maps.LatLng(n.bounds[0][0],n.bounds[0][1]),new google.maps.LatLng(n.bounds[1][0],n.bounds[1][1])),n.bounds=f,i=new google.maps.Rectangle(n),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<u.length;r++)(function(t,i){n[i]&&google.maps.event.addListener(t,i,function(t){n[i].apply(this,[t])})})(i,u[r]);return this.polygons.push(i),i},n.prototype.drawPolygon=function(i){var e=!1,r,h,f;for(i.hasOwnProperty("useGeoJSON")&&(e=i.useGeoJSON),delete i.useGeoJSON,i=t({map:this.map},i),e==!1&&(i.paths=[i.paths.slice(0)]),i.paths.length>0&&i.paths[0].length>0&&(i.paths=s(o(i.paths,u,e))),r=new google.maps.Polygon(i),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],f=0;f<h.length;f++)(function(n,t){i[t]&&google.maps.event.addListener(n,t,function(n){i[t].apply(this,[n])})})(r,h[f]);return this.polygons.push(r),n.fire("polygon_added",r,this),r},n.prototype.removePolygon=function(t){for(var i=0;i<this.polygons.length;i++)if(this.polygons[i]===t){this.polygons[i].setMap(null);this.polygons.splice(i,1);n.fire("polygon_removed",t,this);break}},n.prototype.removePolygons=function(){for(var n=0,t;t=this.polygons[n];n++)t.setMap(null);this.polygons=[]},n.prototype.getFromFusionTables=function(n){var i=n.events,r,t,u;delete n.events;r=n;t=new google.maps.FusionTablesLayer(r);for(u in i)(function(n,t){google.maps.event.addListener(n,t,function(n){i[t].apply(this,[n])})})(t,u);return this.layers.push(t),t},n.prototype.loadFromFusionTables=function(n){var t=this.getFromFusionTables(n);return t.setMap(this.map),t},n.prototype.getFromKML=function(n){var f=n.url,i=n.events,r,t,u;delete n.url;delete n.events;r=n;t=new google.maps.KmlLayer(f,r);for(u in i)(function(n,t){google.maps.event.addListener(n,t,function(n){i[t].apply(this,[n])})})(t,u);return this.layers.push(t),t},n.prototype.loadFromKML=function(n){var t=this.getFromKML(n);return t.setMap(this.map),t},n.prototype.addLayer=function(n,t){var i,r,u;t=t||{};switch(n){case"weather":this.singleLayers.weather=i=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=i=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=i=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=i=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=i=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=i=new google.maps.panoramio.PanoramioLayer;i.setTag(t.filter);delete t.filter;t.click&&google.maps.event.addListener(i,"click",function(n){t.click(n);delete t.click});break;case"places":this.singleLayers.places=i=new google.maps.places.PlacesService(this.map);(t.search||t.nearbySearch||t.radarSearch)&&(r={bounds:t.bounds||null,keyword:t.keyword||null,location:t.location||null,name:t.name||null,radius:t.radius||null,rankBy:t.rankBy||null,types:t.types||null},t.radarSearch&&i.radarSearch(r,t.radarSearch),t.search&&i.search(r,t.search),t.nearbySearch&&i.nearbySearch(r,t.nearbySearch));t.textSearch&&(u={bounds:t.bounds||null,location:t.location||null,query:t.query||null,radius:t.radius||null},i.textSearch(u,t.textSearch))}if(i!==undefined)return typeof i.setOptions=="function"&&i.setOptions(t),typeof i.setMap=="function"&&i.setMap(this.map),i},n.prototype.removeLayer=function(n){if(typeof n=="string"&&this.singleLayers[n]!==undefined)this.singleLayers[n].setMap(null),delete this.singleLayers[n];else for(var t=0;t<this.layers.length;t++)if(this.layers[t]===n){this.layers[t].setMap(null);this.layers.splice(t,1);break}},n.prototype.getRoutes=function(n){var u,i;switch(n.travelMode){case"bicycling":r=google.maps.TravelMode.BICYCLING;break;case"transit":r=google.maps.TravelMode.TRANSIT;break;case"driving":r=google.maps.TravelMode.DRIVING;break;default:r=google.maps.TravelMode.WALKING}f=n.unitSystem==="imperial"?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;u={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]};i=t(u,n);i.origin=/string/.test(typeof n.origin)?n.origin:new google.maps.LatLng(n.origin[0],n.origin[1]);i.destination=/string/.test(typeof n.destination)?n.destination:new google.maps.LatLng(n.destination[0],n.destination[1]);i.travelMode=r;i.unitSystem=f;delete i.callback;delete i.error;var s=this,e=[],o=new google.maps.DirectionsService;o.route(i,function(t,i){if(i===google.maps.DirectionsStatus.OK){for(var r in t.routes)t.routes.hasOwnProperty(r)&&e.push(t.routes[r]);n.callback&&n.callback(e,t,i)}else n.error&&n.error(t,i)})},n.prototype.removeRoutes=function(){this.routes.length=0},n.prototype.getElevations=function(n){var i,r,f;n=t({locations:[],path:!1,samples:256},n);n.locations.length>0&&n.locations[0].length>0&&(n.locations=s(o([n.locations],u,!1)));i=n.callback;delete n.callback;r=new google.maps.ElevationService;n.path?(f={path:n.locations,samples:n.samples},r.getElevationAlongPath(f,function(n,t){i&&typeof i=="function"&&i(n,t)})):(delete n.path,delete n.samples,r.getElevationForLocations(n,function(n,t){i&&typeof i=="function"&&i(n,t)}))},n.prototype.cleanRoute=n.prototype.removePolylines,n.prototype.renderRoute=function(n,i){var f=this,u=typeof i.panel=="string"?document.getElementById(i.panel.replace("#","")):i.panel,r;i.panel=u;i=t({map:this.map},i);r=new google.maps.DirectionsRenderer(i);this.getRoutes({origin:n.origin,destination:n.destination,travelMode:n.travelMode,waypoints:n.waypoints,unitSystem:n.unitSystem,error:n.error,avoidHighways:n.avoidHighways,avoidTolls:n.avoidTolls,optimizeWaypoints:n.optimizeWaypoints,callback:function(n,t,i){i===google.maps.DirectionsStatus.OK&&r.setDirections(t)}})},n.prototype.drawRoute=function(n){var t=this;this.getRoutes({origin:n.origin,destination:n.destination,travelMode:n.travelMode,waypoints:n.waypoints,unitSystem:n.unitSystem,error:n.error,avoidHighways:n.avoidHighways,avoidTolls:n.avoidTolls,optimizeWaypoints:n.optimizeWaypoints,callback:function(i){if(i.length>0){var r={path:i[i.length-1].overview_path,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight};n.hasOwnProperty("icons")&&(r.icons=n.icons);t.drawPolyline(r);n.callback&&n.callback(i[i.length-1])}}})},n.prototype.travelRoute=function(n){var r,t,i;if(n.origin&&n.destination)this.getRoutes({origin:n.origin,destination:n.destination,travelMode:n.travelMode,waypoints:n.waypoints,unitSystem:n.unitSystem,error:n.error,callback:function(t){var i,f,r,u;if(t.length>0&&n.start&&n.start(t[t.length-1]),t.length>0&&n.step&&(i=t[t.length-1],i.legs.length>0))for(f=i.legs[0].steps,r=0;u=f[r];r++)u.step_number=r,n.step(u,i.legs[0].steps.length-1);t.length>0&&n.end&&n.end(t[t.length-1])}});else if(n.route&&n.route.legs.length>0)for(r=n.route.legs[0].steps,t=0;i=r[t];t++)i.step_number=t,n.step(i)},n.prototype.drawSteppedRoute=function(n){var u=this,f,t,i,r;if(n.origin&&n.destination)this.getRoutes({origin:n.origin,destination:n.destination,travelMode:n.travelMode,waypoints:n.waypoints,error:n.error,callback:function(t){var i,o,r,f,e;if(t.length>0&&n.start&&n.start(t[t.length-1]),t.length>0&&n.step&&(i=t[t.length-1],i.legs.length>0))for(o=i.legs[0].steps,r=0;f=o[r];r++)f.step_number=r,e={path:f.path,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight},n.hasOwnProperty("icons")&&(e.icons=n.icons),u.drawPolyline(e),n.step(f,i.legs[0].steps.length-1);t.length>0&&n.end&&n.end(t[t.length-1])}});else if(n.route&&n.route.legs.length>0)for(f=n.route.legs[0].steps,t=0;i=f[t];t++)i.step_number=t,r={path:i.path,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight},n.hasOwnProperty("icons")&&(r.icons=n.icons),u.drawPolyline(r),n.step(i)},n.Route=function(n){this.origin=n.origin;this.destination=n.destination;this.waypoints=n.waypoints;this.map=n.map;this.route=n.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;var t={path:new google.maps.MVCArray,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight};n.hasOwnProperty("icons")&&(t.icons=n.icons);this.polyline=this.map.drawPolyline(t).getPath()},n.Route.prototype.getRoute=function(n){var t=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:n.travelMode,waypoints:this.waypoints||[],error:n.error,callback:function(){t.route=e[0];n.callback&&n.callback.call(t)}})},n.Route.prototype.back=function(){var n,t;if(this.step_count>0){this.step_count--;n=this.route.legs[0].steps[this.step_count].path;for(t in n)n.hasOwnProperty(t)&&this.polyline.pop()}},n.Route.prototype.forward=function(){var n,t;if(this.step_count<this.steps_length){n=this.route.legs[0].steps[this.step_count].path;for(t in n)n.hasOwnProperty(t)&&this.polyline.push(n[t]);this.step_count++}},n.prototype.checkGeofence=function(n,t,i){return i.containsLatLng(new google.maps.LatLng(n,t))},n.prototype.checkMarkerGeofence=function(n,t){var i,r,u;if(n.fences)for(i=0;r=n.fences[i];i++)u=n.getPosition(),this.checkGeofence(u.lat(),u.lng(),r)||t(n,r)},n.prototype.toImage=function(t){var t=t||{},i={},r,u;if(i.size=t.size||[this.el.clientWidth,this.el.clientHeight],i.lat=this.getCenter().lat(),i.lng=this.getCenter().lng(),this.markers.length>0)for(i.markers=[],r=0;r<this.markers.length;r++)i.markers.push({lat:this.markers[r].getPosition().lat(),lng:this.markers[r].getPosition().lng()});return this.polylines.length>0&&(u=this.polylines[0],i.polyline={},i.polyline.path=google.maps.geometry.encoding.encodePath(u.getPath()),i.polyline.strokeColor=u.strokeColor,i.polyline.strokeOpacity=u.strokeOpacity,i.polyline.strokeWeight=u.strokeWeight),n.staticMapURL(i)},n.staticMapURL=function(n){function g(n,t){if(n[0]==="#"&&(n=n.replace("#","0x"),t)){if(t=parseFloat(t),t=Math.min(1,Math.max(t,0)),t===0)return"0x00000000";t=(t*255).toString(16);t.length===1&&(t+=t);n=n.slice(0,8)+t}return n}var i=[],t,p=(location.protocol==="file:"?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap",c,e,f,k,h,d,u,w,o,r,l,a,v,b,nt,tt,y,s,it,rt;n.url&&(p=n.url,delete n.url);p+="?";c=n.markers;delete n.markers;!c&&n.marker&&(c=[n.marker],delete n.marker);e=n.styles;delete n.styles;f=n.polyline;delete n.polyline;n.center?(i.push("center="+n.center),delete n.center):n.address?(i.push("center="+n.address),delete n.address):n.lat?(i.push(["center=",n.lat,",",n.lng].join("")),delete n.lat,delete n.lng):n.visible&&(k=encodeURI(n.visible.join("|")),i.push("visible="+k));h=n.size;h?(h.join&&(h=h.join("x")),delete n.size):h="630x300";i.push("size="+h);n.zoom||n.zoom===!1||(n.zoom=15);d=n.hasOwnProperty("sensor")?!!n.sensor:!0;delete n.sensor;i.push("sensor="+d);for(o in n)n.hasOwnProperty(o)&&i.push(o+"="+n[o]);if(c)for(r=0;t=c[r];r++){u=[];t.size&&t.size!=="normal"?(u.push("size:"+t.size),delete t.size):t.icon&&(u.push("icon:"+encodeURI(t.icon)),delete t.icon);t.color&&(u.push("color:"+t.color.replace("#","0x")),delete t.color);t.label&&(u.push("label:"+t.label[0].toUpperCase()),delete t.label);w=t.address?t.address:t.lat+","+t.lng;delete t.address;delete t.lat;delete t.lng;for(o in t)t.hasOwnProperty(o)&&u.push(o+":"+t[o]);u.length||r===0?(u.push(w),u=u.join("|"),i.push("markers="+encodeURI(u))):(u=i.pop()+encodeURI("|"+w),i.push(u))}if(e)for(r=0;r<e.length;r++){for(l=[],e[r].featureType&&l.push("feature:"+e[r].featureType.toLowerCase()),e[r].elementType&&l.push("element:"+e[r].elementType.toLowerCase()),s=0;s<e[r].stylers.length;s++)for(a in e[r].stylers[s])v=e[r].stylers[s][a],(a=="hue"||a=="color")&&(v="0x"+v.substring(1)),l.push(a+":"+v);b=l.join("|");b!=""&&i.push("style="+b)}if(f){if(t=f,f=[],t.strokeWeight&&f.push("weight:"+parseInt(t.strokeWeight,10)),t.strokeColor&&(nt=g(t.strokeColor,t.strokeOpacity),f.push("color:"+nt)),t.fillColor&&(tt=g(t.fillColor,t.fillOpacity),f.push("fillcolor:"+tt)),y=t.path,y.join)for(s=0;it=y[s];s++)f.push(it.join(","));else f.push("enc:"+y);f=f.join("|");i.push("path="+encodeURI(f))}return rt=window.devicePixelRatio||1,i.push("scale="+rt),i=i.join("&"),p+i},n.prototype.addMapType=function(n,t){if(t.hasOwnProperty("getTileUrl")&&typeof t.getTileUrl=="function"){t.tileSize=t.tileSize||new google.maps.Size(256,256);var i=new google.maps.ImageMapType(t);this.map.mapTypes.set(n,i)}else throw"'getTileUrl' function required.";},n.prototype.addOverlayMapType=function(n){if(n.hasOwnProperty("getTile")&&typeof n.getTile=="function"){var t=n.index;delete n.index;this.map.overlayMapTypes.insertAt(t,n)}else throw"'getTile' function required.";},n.prototype.removeOverlayMapType=function(n){this.map.overlayMapTypes.removeAt(n)},n.prototype.addStyle=function(n){var t=new google.maps.StyledMapType(n.styles,{name:n.styledMapName});this.map.mapTypes.set(n.mapTypeId,t)},n.prototype.setStyle=function(n){this.map.setMapTypeId(n)},n.prototype.createPanorama=function(t){return t.hasOwnProperty("lat")&&t.hasOwnProperty("lng")||(t.lat=this.getCenter().lat(),t.lng=this.getCenter().lng()),this.panorama=n.createPanorama(t),this.map.setStreetView(this.panorama),this.panorama},n.createPanorama=function(n){var o=i(n.el,n.context),u,f,e,r;for(n.position=new google.maps.LatLng(n.lat,n.lng),delete n.el,delete n.context,delete n.lat,delete n.lng,u=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],f=t({visible:!0},n),r=0;r<u.length;r++)delete f[u[r]];for(e=new google.maps.StreetViewPanorama(o,f),r=0;r<u.length;r++)(function(t,i){n[i]&&google.maps.event.addListener(t,i,function(){n[i].apply(this)})})(e,u[r]);return e},n.prototype.on=function(t,i){return n.on(t,this,i)},n.prototype.off=function(t){n.off(t,this)},n.prototype.once=function(t,i){return n.once(t,this,i)},n.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],n.on=function(t,i,r){if(n.custom_events.indexOf(t)==-1)return i instanceof n&&(i=i.map),google.maps.event.addListener(i,t,r);var u={handler:r,eventName:t};return i.registered_events[t]=i.registered_events[t]||[],i.registered_events[t].push(u),u},n.off=function(t,i){n.custom_events.indexOf(t)==-1?(i instanceof n&&(i=i.map),google.maps.event.clearListeners(i,t)):i.registered_events[t]=[]},n.once=function(t,i,r){if(n.custom_events.indexOf(t)==-1)return i instanceof n&&(i=i.map),google.maps.event.addListenerOnce(i,t,r)},n.fire=function(t,i,r){var f,u;if(n.custom_events.indexOf(t)==-1)google.maps.event.trigger(i,t,Array.prototype.slice.apply(arguments).slice(2));else if(t in r.registered_events)for(f=r.registered_events[t],u=0;u<f.length;u++)(function(n,t,i){n.apply(t,[i])})(f[u].handler,r,i)},n.geolocate=function(n){var t=n.always||n.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){n.success(i);t&&t()},function(i){n.error(i);t&&t()},n.options):(n.not_supported(),t&&t())},n.geocode=function(n){this.geocoder=new google.maps.Geocoder;var t=n.callback;n.hasOwnProperty("lat")&&n.hasOwnProperty("lng")&&(n.latLng=new google.maps.LatLng(n.lat,n.lng));delete n.lat;delete n.lng;delete n.callback;this.geocoder.geocode(n,function(n,i){t(n,i)})},typeof google=="object"&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){for(var n,r=new google.maps.LatLngBounds,u=this.getPaths(),t,i=0;i<u.getLength();i++)for(t=u.getAt(i),n=0;n<t.getLength();n++)r.extend(t.getAt(n));return r}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(n){var o=this.getBounds(),u,s,f,i,t,r;if(o!==null&&!o.contains(n))return!1;for(u=!1,s=this.getPaths().getLength(),f=0;f<s;f++){var e=this.getPaths().getAt(f),h=e.getLength(),c=h-1;for(i=0;i<h;i++)t=e.getAt(i),r=e.getAt(c),(t.lng()<n.lng()&&r.lng()>=n.lng()||r.lng()<n.lng()&&t.lng()>=n.lng())&&t.lat()+(n.lng()-t.lng())/(r.lng()-t.lng())*(r.lat()-t.lat())<n.lat()&&(u=!u),c=i}return u}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(n){return google.maps.geometry?google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),n)<=this.getRadius():!0}),google.maps.Rectangle.prototype.containsLatLng=function(n){return this.getBounds().contains(n)},google.maps.LatLngBounds.prototype.containsLatLng=function(n){return this.contains(n)},google.maps.Marker.prototype.setFences=function(n){this.fences=n},google.maps.Marker.prototype.addFence=function(n){this.fences.push(n)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){"use strict";var u,r,t,i;if(this==null)throw new TypeError;if((u=Object(this),r=u.length>>>0,r===0)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:t!=0&&t!=Infinity&&t!=-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1}),n});MosaicModal.prototype.clearContent=function(){if(this.story){var n=this.story.find(".block-video"),t=n.attr("data-targetid");kWidget.destroy(t)}this.body.empty()};MosaicModal.prototype.showTileStory=function(n){var i=this,t;this.clearContent();t=0;do this.tiles[t].id==n.id&&(this.curIndex=t,t=this.tiles.length),t++;while(t<this.tiles.length);this.story=$(n).find(".grid-story").clone(!0);this.story.appendTo(this.body);this.modal.modal("show");this.modal.on("shown.bs.modal",function(){i.body.css("height",i.story.height()+"px")});this.bindImageSlider()};MosaicModal.prototype.bindImageSlider=function(){var i=this.body.find(".grid-story-media > div > div"),r=this.body.find(".grid-story-media > div").addClass("wrapper"),t=this,n=i.find(".video-content-block");n.length>0&&this.playVideo(function(){n.find(".thumbnail").hide()});i.each(function(){var i=$(this);i.on("click touchend",function(){var u=t.body.find(".grid-story-media > div > div");u.index(i)==2&&(u.eq(0).appendTo(r),n.find(".thumbnail").show());i.prependTo(r);i.find(n).length>0?(n.find(".thumbnail").hide(),t.playVideo()):(t.player!=null&&t.player.sendNotification("doPause"),n.find(".thumbnail").show())})})};MosaicModal.prototype.showNextStory=function(){this.curIndex++;this.curIndex==this.tiles.length&&(this.curIndex=0);this.clearContent();this.story=this.tiles.eq(this.curIndex).find(".grid-story").clone(!0);this.story.appendTo(this.body);this.bindImageSlider();this.body.css("height",this.story.height()+"px");this.modal.animate({scrollTop:0},"slow")};MosaicModal.prototype.showPrevStory=function(){this.curIndex--;this.curIndex<0&&(this.curIndex=this.tiles.length-1);this.clearContent();this.story=this.tiles.eq(this.curIndex).find(".grid-story").clone().appendTo(this.body);this.bindImageSlider();this.body.css("height",this.story.height()+"px");this.modal.animate({scrollTop:0},"slow")};MosaicModal.prototype.playVideo=function(n){var t=this.story.find(".block-video"),i=t.attr("data-targetid"),r=t.attr("data-wid"),u=t.attr("data-playerId"),f=t.attr("data-partnerId"),e=t.attr("data-uiconfId"),o=t.attr("data-entryId"),s=t.attr("data-brandtheme")||"",h=t.attr("data-kalturacss")||"",c=t.attr("data-thumbnailurl")||"",l=this;kWidget.embed({targetId:i,wid:r,player_id:u,partner_id:f,uiconf_id:e,entry_id:o,flashvars:{autoPlay:!1,loop:!1,thumbnailUrl:c,showControls:!0,showTitle:!1,streamerType:"auto",IframeCustomPluginCss1:s,IframeCustomPluginCss2:h,"EmbedPlayer.EnableIpadHTMLControls":!1,loadingSpinner:{plugin:!1}},readyCallback:function(t){l.player=document.getElementById(t);typeof n!="undefined"&&n()}})};MosaicModal.prototype.swipeContent=function(n){this.animation=!0;var t=this,i;switch(n){case"left":this.curIndex++;this.curIndex==this.tiles.length&&(this.curIndex=0);i=this.tiles.eq(this.curIndex).find(".grid-story").clone().addClass("next").appendTo(this.body);this.story.addClass("prev");setTimeout(function(){i.removeClass("next")},100);setTimeout(function(){t.story.remove();t.story=i;t.bindImageSlider();t.body.css("height",t.story.height()+"px");t.animation=!1},500);break;case"right":this.curIndex--;this.curIndex<0&&(this.curIndex=this.tiles.length-1);i=this.tiles.eq(this.curIndex).find(".grid-story").clone().addClass("prev").appendTo(this.body);this.story.addClass("next");setTimeout(function(){i.removeClass("prev")},100);setTimeout(function(){t.story.remove();t.story=i;t.bindImageSlider();t.body.css("height",t.story.height()+"px");t.animation=!1},500)}};Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(n){if(this==null)throw new TypeError("this is null or not defined");for(var i=Object(this),t=i.length>>>0,o=arguments[1],r=o>>0,u=r<0?Math.max(t+r,0):Math.min(r,t),e=arguments[2],f=e===undefined?t:e>>0,s=f<0?Math.max(t+f,0):Math.min(f,t);u<s;)i[u]=n,u++;return i}}),function(n){n.fn.pop=function(){var n=this.get(-1);return this.splice(this.length-1,1),n};n.fn.shift=function(){var n=this.get(0);return this.splice(0,1),n}}(jQuery);Tiles.prototype.draw=function(){this.createShadowGrid();this.uiPrepare();this.fillCards(this.curSettings.numberOfBig,{row:4,col:4});this.fillCards(this.curSettings.nubmerOfMedium,{row:2,col:2});this.createRemainingCards(this.cards)};Tiles.prototype.createShadowGrid=function(){this.grid=new Array(this.curSettings.rows);for(var n=0;n<this.curSettings.rows;n++)this.grid[n]=new Array(this.curSettings.cols),this.grid[n].fill(0)};Tiles.prototype.uiPrepare=function(){this.fillShadowGrid(this.curSettings.head.position,this.curSettings.head.size);this.fillShadowGrid(this.curSettings.subhead.position,this.curSettings.subhead.size);this.fillShadowGrid(this.curSettings.controls.position,this.curSettings.controls.size)};Tiles.prototype.getRandomInt=function(n,t){return Math.floor(Math.random()*Math.floor(t))};Tiles.prototype.getFreeCoords=function(){var n,t,i=0;do n=this.getRandomInt(0,this.curSettings.rows),t=this.getRandomInt(0,this.curSettings.cols),i++;while(this.grid[n][t]!=0&&i<100);return{row:n,col:t}};Tiles.prototype.isPlaceAvaiable=function(n,t){var i=!0,r,u;if(n.row+t.row<=this.curSettings.rows&&n.col+t.col<=this.curSettings.cols)if(n.row%2==0&&n.col%2==0)for(r=n.row;r<n.row+t.row;r++)for(u=n.col;u<n.col+t.col;u++)this.grid[r][u]>0&&(i=!1);else i=!1;else i=!1;return i};Tiles.prototype.fillShadowGrid=function(n,t){for(var r,i=n.row;i<n.row+t.row;i++)for(r=n.col;r<n.col+t.col;r++)this.grid[i][r]=1};Tiles.prototype.fillCards=function(n,t){for(var i,r,f,u=0;u<n;u++){r=!1;f=0;do i=this.getFreeCoords(),this.isPlaceAvaiable(i,t)?(this.fillShadowGrid(i,t),this.createCard(i,t),r=!1):r=!0,f++;while(r&&f<100)}};Tiles.prototype.createCard=function(n,t){this.cards.push({coords:n,size:t,className:t.row==4?"big":"medium"})};Tiles.prototype.createRemainingCards=function(n){for(var i,t=0;t<this.curSettings.rows;t++)for(i=0;i<this.curSettings.cols;i++)this.grid[t][i]==0&&n.push({coords:{row:t,col:i},size:{row:1,col:1},className:"small"})};Tiles.prototype.fillTilesWithBlocks=function(){for(var n=0;n<this.cards.length;n++)typeof this.tiles[n]!="undefined"&&(this.cards[n].block=this.tiles[n],this.cards[n].number=n,this.cards[n].id=this.tiles[n].id)};Tiles.prototype.splitTilesBySlides=function(){for(var t,i,r,u,o=Math.ceil(this.tiles.length/this.curSettings.numberOfAllTiles),s=this.tiles.filter(function(n,t){return t.dataset.size==="big"}),h=this.tiles.filter(function(n,t){return t.dataset.size==="medium"}),c=this.tiles.filter(function(n,t){return t.dataset.size==="small"}),f=[],n=[],e=0;e<o;e++){for(n=[],t=this.curSettings.numberOfAllTiles,i=0;i<this.curSettings.numberOfBig;i++)n.push(s.pop()),t--;for(r=0;r<this.curSettings.nubmerOfMedium;r++)n.push(h.pop()),t--;for(u=0;u<t;u++)n.push(c.pop());f.push(n)}return f};Mosaic.prototype.groupTilesBySize=function(){var n=this.tiles.filter(function(n,t){return t.dataset.size==="big"}),t=this.tiles.filter(function(n,t){return t.dataset.size==="medium"}),i=this.tiles.filter(function(n,t){return t.dataset.size==="small"});return $.merge(n,$.merge(t,i))};Mosaic.prototype.fillTilesWithCards=function(n){for(var i,t=0;t<this.slides.length;t++)for(i=0;i<this.slides[t].length;i++)this.slides[t][i].block=n[t][i]};Mosaic.prototype.draw=function(){var t,i,n;for(this.setGridSettings(),this.uiPrepare(),t=Math.ceil(this.tiles.length/this.curSettings.numberOfAllTiles),n=0;n<t;n++)this.slides[n]=new Tiles(this.curSettings);for(i=this.fillGridWithTiles(this.groupTilesBySize()),this.fillTilesWithCards(i),n=0;n<this.slides.length;n++)this.renderGrid(this.slides[n]);for(n=0;n<this.slides[0].length;n++)this.slides[0][n].block.classList.add("active"),this.slides[0][n].block.style.left=this.slides[0][n].coords.col*this.curSettings.xsize+"px"};Mosaic.prototype.fillGridWithTiles=function(n){function o(){i==n.length&&(i=0,s=!0);var t=null;return s?(t=n[i].cloneNode(!0),t.classList.add("fake")):t=n[i],i++,t}for(var u,f,e,i=0,s=!1,r=[],t=0;t<this.slides.length;t++)for(r.push([]),u=0;u<this.curSettings.numberOfBig;u++)r[t].push(o());for(t=0;t<this.slides.length;t++)for(f=0;f<this.curSettings.nubmerOfMedium;f++)r[t].push(o());for(t=0;t<this.slides.length;t++)for(e=0;e<this.curSettings.numberOfSmallTiles;e++)r[t].push(o());return r};Mosaic.prototype.shuffle=function(n){for(var t=n.length,r,i;t;)i=Math.floor(Math.random()*t--),r=n[t],n[t]=n[i],n[i]=r;return n};Mosaic.prototype.setGridSettings=function(){this.curSettings=this.settings.desktops3;var n=$(window).width();n>=768&&n<991&&(this.curSettings=this.settings.tablet);n>=992&&n<1199&&(this.curSettings=this.settings.medium);n>=1200&&n<1440&&(this.curSettings=this.settings.desktops);n>=1440&&n<1681&&(this.curSettings=this.settings.desktops2);n>=1681&&n<1887&&(this.curSettings=this.settings.desktops2);n<768?(this.curSettings=this.settings.phones,this.curSettings.numberOfAllTiles=this.tiles.length,this.tiles.length<40&&(this.curSettings.numberOfAllTiles=140),this.curSettings.rows=Math.ceil(this.curSettings.numberOfAllTiles/2.9),this.container.style.height=this.curSettings.rows*this.dummyBox.offsetHeight+"px",this.curSettings.nubmerOfMedium=Math.ceil(this.curSettings.numberOfAllTiles/5),this.curSettings.numberOfBig=Math.ceil(this.curSettings.numberOfAllTiles/20)):this.countTiles();this.curSettings.xsize=$(this.dummyBox).width();this.curSettings.ysize=$(this.dummyBox).height()};Mosaic.prototype.clear=function(){this.slides=[];this.curSlide=0;$(this.container).attr("style","");$(this.container).find(".grid-tile.fake").remove();$(this.heading).attr("style","").css("background-color",this.colors.heading);$(this.subheading).attr("style","").css("background-color",this.colors.subheading);$(this.controls.prev).attr("style","");$(this.controls.next).attr("style","");this.tiles.each(function(){$(this).removeClass("big medium small active").attr("style","")})};Mosaic.prototype.uiPrepare=function(){this.colors.heading=$(this.heading).css("background-color");this.colors.subheading=$(this.subheading).css("background-color");this.setBlockPosition(this.heading,this.curSettings.head.position,this.curSettings.head.size);this.setBlockPosition(this.subheading,this.curSettings.subhead.position,this.curSettings.subhead.size);this.setBlockPosition(this.controls.prev,this.curSettings.controls.position,{row:2,col:2});this.setBlockPosition(this.controls.next,{row:this.curSettings.controls.position.row,col:this.curSettings.controls.position.col+2},{row:2,col:2})};Mosaic.prototype.countTiles=function(){var r=this.curSettings.rows*this.curSettings.cols,n={},t,i;n.head=this.curSettings.head.size.col*this.curSettings.head.size.row;n.subhead=this.curSettings.subhead.size.col*this.curSettings.subhead.size.row;n.controls=this.curSettings.controls.size.col*this.curSettings.controls.size.row;t=this.curSettings.numberOfBig*16;i=this.curSettings.nubmerOfMedium*4;this.curSettings.numberOfSmallTiles=r-n.head-n.subhead-n.controls-t-i;this.curSettings.numberOfAllTiles=this.curSettings.numberOfBig+this.curSettings.nubmerOfMedium+this.curSettings.numberOfSmallTiles};Mosaic.prototype.setBlockPosition=function(n,t,i){var r=n.getAttribute("style")?n.getAttribute("style"):"";n.setAttribute("style",r+" top:"+t.row*this.curSettings.ysize+"px; left:"+t.col*this.curSettings.xsize+"px; width:"+i.col*this.curSettings.xsize+"px; height:"+i.row*this.curSettings.ysize+"px;")};Mosaic.prototype.renderGrid=function(n){var i=$(window).width(),t;if(i<768)for(t=0;t<n.length;t++){switch(n[t].className){case"small":n[t].block.setAttribute("style","width:"+this.curSettings.xsize+"px; height:"+this.curSettings.ysize+"px;");break;case"medium":n[t].block.setAttribute("style","width:"+this.curSettings.xsize*2+"px; height:"+this.curSettings.ysize*2+"px;");break;case"big":n[t].block.setAttribute("style","width:"+this.curSettings.xsize*4+"px; height:"+this.curSettings.ysize*4+"px;")}n[t].block.setAttribute("style",n[t].block.getAttribute("style")+" top:"+n[t].coords.row*this.curSettings.ysize+"px; left:100%;");n[t].block.classList.contains("fake")&&this.container.appendChild(n[t].block);n[t].block.classList.add(n[t].className);this.bindEventsToCard(n[t].block)}else for(t=0;t<n.length;t++)n[t].block.setAttribute("style","top:"+n[t].coords.row*this.curSettings.ysize+"px; left:100%;"),n[t].block.classList.contains("fake")&&this.container.appendChild(n[t].block),n[t].block.classList.add(n[t].className),this.bindEventsToCard(n[t].block)};Mosaic.prototype.bindEventsToCard=function(n){var t=this;n.addEventListener("click",function(){t.modal.showTileStory(n)})};Mosaic.prototype.bindControls=function(){var n=this;this.controls.prev.addEventListener("click",function(){n.isAnimated||n.slidePrev()});this.controls.next.addEventListener("click",function(){n.isAnimated||n.slideNext()})};Mosaic.prototype.slideNext=function(){if(this.slides.length>1){var n=this.curSlide+1;n===this.slides.length&&(n=0);this.animateSlide(n)}};Mosaic.prototype.slidePrev=function(){if(this.slides.length>1){var n=this.curSlide-1;n<0&&(n=this.slides.length-1);this.animateSlide(n)}};Mosaic.prototype.animateSlide=function(n){var t,i;for(this.isAnimated=!0,t=this,i=0;i<this.slides[n].length;i++)this.slides[n][i].block.classList.add("animate"),this.slides[n][i].block.style.left=this.slides[n][i].coords.col*this.curSettings.xsize+"px";setTimeout(function(){for(var i=0;i<t.slides[t.curSlide].length;i++)t.slides[t.curSlide][i].block.classList.remove("active"),t.slides[t.curSlide][i].block.style.left="100%";for(i=0;i<t.slides[n].length;i++)t.slides[n][i].block.classList.add("active"),t.slides[n][i].block.classList.remove("animate");t.curSlide=n;t.isAnimated=!1},2500)};$(document).ready(function(){$(".mosaic").each(function(){var n=new Mosaic(this),t=$(window).width();$(window).resize(function(){$(window).width()!=t&&(t=$(window).width(),n.clear(),n.draw())});window.addEventListener("orientationchange",function(){t=$(window).width();n.clear();n.draw()})})});$(document).ready(function(){var i=$("html, body"),r=$(".gc-header"),u=$(".gc-nav"),n=$(".survey-block .carousel"),t=$(".survey-carousel .controls");n.on("slide.bs.carousel",function(t){var f=$(t.relatedTarget).outerHeight();$(this).find(".active").parent().animate({height:f},500);i.animate({scrollTop:parseInt(n.offset().top-r.outerHeight()-u.outerHeight())},300)});n.find(".item .form-control-slider").each(function(){var n=$(this),t=n.find(".value");t.eq(n.find(".input-slider").val()).addClass("current");n.find(".input-slider").on("input mouseover",function(){this.style.setProperty("--val",$(this).val());t.removeClass("current").eq($(this).val()).addClass("current")})});n.find(".item").each(function(n){$(this).find("input, select, textarea").on("input change",function(){$(this).val()!=""?t.eq(n).find(".btn.right").removeAttr("disabled"):t.eq(n).find(".btn.right").attr("disabled","disabled")});$(this).find("input[type=range]").on("mouseover",function(){t.eq(n).find(".btn.right").removeAttr("disabled")});var i=$(this).find("input[type=checkbox]");if(i.length>0)i.on("change",function(){i.filter(":checked").length==0&&t.eq(n).find(".btn.right").attr("disabled","disabled")})})});$(document).ready(function(){$(".seemoreBlock").each(function(){var n=$(this),t=n.siblings(".seemoreModal").attr("id"),i=n.find(".CTALabel").attr("data-target","#"+t);n.find(".ellipsis").after(i)});$(".large-tout-block").each(function(){var n=$(this),i=n.find(".anchor"),t=i.attr("href").split("?");t[0].indexOf("http")!=-1&&t[0].indexOf(window.location.hostname)==-1&&n.find(".icon").attr("class","").addClass("icon glyphicon glyphicon-menu-right")});$(".language-selector-block select").change(function(){var n=$(this).val();n&&n!=""&&(window.location.href=n)});$(".video-content-block.full-width-view").each(function(){var n=$(this),t=n.find(".thumbnail")});$('img:not([alt=""]), div:not([alt=""]), map:not([alt=""]), area:not([alt=""])').map(function(){var n=$(this).attr("title");(n===undefined||n==="")&&$(this).attr("title",$(this).attr("alt"))})});DigiOne=DigiOne||{};DigiOne.namespace=function(n){var t=n.split("."),r=DigiOne,i;for(t[0]==="DigiOne"&&(t=t.slice(1)),i=0;i<t.length;i+=1)typeof r[t[i]]=="undefined"&&(r[t[i]]={}),r=r[t[i]];return r};DigiOne.namespace("DigiOne.Utils");DigiOne.Utils={createCookie:function(n,t,i){var u,r;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"},getCookie:function(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!=-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}};privacyPolicyDisclaimer=function(n){var t=n.find("button.close");DigiOne.Utils.getCookie("DigiOne-PrivacyPolicyDisclaimer")===""&&(DigiOne.Utils.createCookie("DigiOne-PrivacyPolicyDisclaimer","true",365),n.modal(),t.click(function(){n.modal("hide")}))};$(document).ready(function(){var n=$("#privacyPolicyDisclaimer"),t=location.href,r=t.substring(t.indexOf("?")+5),u=document.referrer.split("/")[2],i;if(u=="www.interventionsprogram.com"||r=="interventionsprogram.com"){if(DigiOne.Utils.getCookie("DigiOne-MovingOnDisclaimer")===""){DigiOne.Utils.createCookie("DigiOne-MovingOnDisclaimer","true",365);i=$("#movingOnDisclaimer").modal("show");window.setTimeout(closeMovingOnModal,2e4);i.on("hidden.bs.modal",function(){typeof displayGlobalPPDisclaimer!="undefined"&&displayGlobalPPDisclaimer&&privacyPolicyDisclaimer(n)})}}else typeof displayGlobalPPDisclaimer!="undefined"&&displayGlobalPPDisclaimer&&privacyPolicyDisclaimer(n)});$(function(){var n=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=!0);$(".product-expandable-callout-heading").on("click",function(){var n=$(this);n.next().hasClass("collapsing")||($(this).toggleClass("colapsed-header"),n.find("a").toggleClass("selected"))});$(".product-expandable-callout-block").on("click",function(){var n=$(this);n.nextUntil(".product-expandable-callout-block + :not(.product-expandable-callout-block)").each(function(){var n=$(this).find(".panel-collapse"),t=$(this).find(".product-expandable-callout-heading");$(this).find("a").removeClass("selected");n.hasClass("in")&&(n.collapse("hide"),t.removeClass("colapsed-header"))});n.prevUntil(":not(.product-expandable-callout-block)").each(function(){var n=$(this).find(".panel-collapse"),t=$(this).find(".product-expandable-callout-heading");$(this).find("a").removeClass("selected");n.hasClass("in")&&(n.collapse("hide"),t.removeClass("colapsed-header"))})});n&&$(".product-expandable-callout-heading").each(function(){$(this).addClass("mobile-device")})});window.dataLayerOnco=window.dataLayerOnco||[];$(document).ready(function(){$("a").not("#brand-detail-page .uso-tab-menu a").not(".isiLink, .see-more").not(".onePageTemplatePage .uso-tab-menu a").not("a[href ^= 'tel:']").on("click",function(){var n=$(this),u=n.text().toLowerCase(),f,e,o,s,h,c,l;if(u=="sign up now"&&n.hasClass("cta-button")&&n.parents(".callout").length>0&&n.parents(".container").length>0)gtmEventDataLayerOnco("forms","start enrollment","");else if(n.parents(".selectpicker").length==0&&n.parents("#back-to-quiz-container-button").length==0&&(f=/^.*\.(docx|DOCX|xlsx|XLSX|xls|doc|DOC|pdf|PDF)$/,n.attr("href")!==undefined)){var i=n.attr("href").match(f),a=n.hasClass("quick-link"),r=n.hasClass("dropdown-toggle"),v=n.parents(".quick-links-teaser,.quick-info-teaser-ISI,.quickLinkBlock,.seemoreBlocksContainerBlock ").length>0?!0:!1,y=location.hostname===this.hostname||!this.hostname.length?!0:!1,p=this.pathname==window.location.pathname&&this.protocol==window.location.protocol&&this.host==window.location.host,w=n.parents(".product-expandable-callout-block").length>0?!0:!1,b=n.parents(".product-callout-block").length>0?!0:!1;if(r||i!=null||n.attr("href")===window.location.host||n.attr("href").slice(0,1)=="/"||n.attr("href").slice(0,1)=="#"||gtmEventDataLayerOnco("exit links","click on exit link",n.attr("href")),i!=null&&(e=getFile(n.attr("href")),(i[1]=="pdf"||"PDF")&&gtmEventDataLayerOnco("pdf documents","download a document",e)),w)o=n.find(".panel-title").text().trim(),s=o.replace(/[`~!@#$%^&*()_|+\-=?'"<>\{\}\[\]\\\/]/gi,"").replace(/(\r\n|\n|\r)/gm," ").toLowerCase(),gtmEventDataLayerOnco("navigation","click on "+s,"");else if(b)h=n.find(".title").text().trim(),c=h.replace(/[`~!@#$%^&*()_|+\-=?'"<>\{\}\[\]\\\/]/gi,"").replace(/(\r\n|\n|\r)/gm," ").toLowerCase(),gtmEventDataLayerOnco("navigation","click on "+c,"");else if(a||v||y){l=n.children().length>0?n.children().not("figure").text():n.text().trim();var k=n.find("quick-link-text").length>0?n.find("quick-link-text").text():l,d=k.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").replace(/(\r\n|\n|\r)/gm," ").toLowerCase(),g=n.hasClass("usop-condition-link")||n.parent(".subpageTitle").length>0||n.parents(".indicationsSelector").length>0||n.parents(".indication-menu-block").length>0,nt=n.parents(".seemoreBlock,.seemoreBlocksContainerBlock").length>0?!0:!1,t=$.trim(d);n.attr("href")=="https://www.pharma.us.novartis.com/utils/contact/hcp/emailh"?gtmEventDataLayerOnco("support","click on "+t,""):g?gtmEventDataLayerOnco("navigation","click on gateway element",t):nt?gtmEventDataLayerOnco("navigation","click on important safety information",""):p||r?(r&&(t=u),gtmEventDataLayerOnco("navigation","click on anchor link",t)):t!=""&&gtmEventDataLayerOnco("navigation","click on "+t,"")}}});$("button.CTALabel").on("click",function(){var n=$(this).parents(".seemoreBlocksContainerBlock ").length>0?!0:!1,t=$(this).parents(".seemoreBlock,.seemoreBlocksContainerBlock").length>0?!0:!1;n&&t&&gtmEventDataLayerOnco("navigation","click on important safety information","")});$(".research-landing-page a").on("click",exitLinkOnco);$("#uso-product-page a").on("click",exitLinkOnco);$("a[href^='tel:']").click(function(n){n.preventDefault();var t=$(this).parents(".quick-links-teaser,.quick-info-teaser-ISI,.quickLinkBlock,.seemoreBlocksContainerBlock ").length>0?!0:!1;link=$(this).attr("href");tracklink=link.replace("tel:","");t?gtmEventDataLayerOnco("support","click on patient support telephone number",tracklink):gtmEventDataLayerOnco("support","click on telephone number",tracklink);setTimeout(function(){window.location=link},300)});$(".mosaic").on("click",".control",function(){$(this).hasClass("prev")?gtmEventDataLayerOnco("navigation","click on previous",""):$(this).hasClass("next")&&gtmEventDataLayerOnco("navigation","click on next","")}).on("click",".grid-tile",function(){gtmEventDataLayerOnco("navigation","open a mosaic tile","")});$(".grid-story").on("click",".cta-link",function(){gtmEventDataLayerOnco("navigation","select an item in a tile","")});$(".survey-question-wrapper").on("change","input",function(){var n=$("div.item.survey-question.active h3").text().trim(),t=$(this).val();gtmEventDataLayerOnco("quiz","select a quiz answer",n+" - "+t)});$(".survey-block .carousel-indicators").on("click","button[data-slide='next']",function(){var n=$("div.item.survey-question.active h3").text().trim();gtmEventDataLayerOnco("quiz","click on next",n)});$(".survey-block .carousel-indicators").on("click","button[data-slide='prev']",function(){var n=$("div.item.survey-question.active h3").text().trim();gtmEventDataLayerOnco("quiz","click on back",n)});$("#back-to-quiz-container-button").on("click","a",function(n){n.preventDefault();n.stopImmediatePropagation();var t=$("div.item.survey-question.active h3").text().trim();gtmEventDataLayerOnco("quiz","click on retake the quiz",t)});$(".product-printable-inventory").on("change",".product-printable-inventory-checkbox",function(){var n=$("h1").eq(0).text().trim();gtmEventDataLayerOnco("quiz","select an option",n)});$(".product-printable-inventory").on("click",".product-printable-inventory-submit-button",function(){var n=$(this).val().toLowerCase(),i="",t=$("h1").eq(0).text().trim(),o=$(".active.product-printable-inventory-step .product-printable-inventory-step-nav-text-number").text()+$(".active.product-printable-inventory-step .product-printable-inventory-step-nav-text").text(),r=[],u=$(".product-printable-inventory-step-nav li").last().hasClass("active"),f=$(this).hasClass("product-printable-inventory-submit-button"),e=$(this).hasClass("product-printable-inventory-start-over");$.each($("input.product-printable-inventory-checkbox:checked"),function(){r.push($(this).val())});i=o+" - "+r.join(", ");n!="continue"||u?n=="back"?gtmEventDataLayerOnco("quiz","click on "+n,t):n=="continue"&&u?gtmEventDataLayerOnco("quiz","complete quiz",t):f&&!e?gtmEventDataLayerOnco("quiz","print inventory",t):f&&e&&gtmEventDataLayerOnco("quiz","start over quiz",t):gtmEventDataLayerOnco("quiz","click on "+n,i)});$(document).on("click",".markerWIDirections a.marker2map",function(){gtmEventDataLayerOnco("locations","click on get direction","")})});$(document).ready(function(){function n(n){var t=$(n).data("hvce"),i=$(n).data("hvce-description");typeof t!="undefined"&&t!==""&&i!==""&&typeof dataLayer!="undefined"&&typeof dataLayer.page!="undefined"&&typeof _satellite!="undefined"&&(dataLayer.page[t]=i,_satellite.track(t))}$(".product-in-page-toggle .product-in-page-toggle-tabs a").on("click",function(){n(this)});$(".editorialCopayBlock").each(function(){var t=this;$(t).find(".coPayAnchor").on("click",function(){n(t)})});$(".onco-image-block").each(function(){var t=this;$(this).find(".fancybox").on("click",function(){n(t)})});$(".product-callout-block a").on("click",function(){n(this)});$(".product-expandable-callout-block .panel-heading a").on("click",function(){n(this)});$(".large-tout-block .anchor").on("click",function(){n(this)});$(".product-printable-inventory").each(function(){var t=this;$(this).find("#product-printable-inventory-submit").on("click",function(){n(t)})});$(".quickLinkBlock.anchorLinkType a").on("click",function(){n(this)});$(".products-quiz-component").each(function(){var t=this;$(this).find("#products-quiz-form-submit").on("click",function(){n(t)})});$(".google-map-locator").each(function(){var t=this;$(this).find(".centerfinder-btn-search").on("click",function(){n(t)})});$(".banner-carousel").each(function(){var t=this;$(this).swipe({swipe:function(i,r){r=="left"&&$(this).carousel("next");r=="right"&&$(this).carousel("prev");n(t)},allowPageScroll:"vertical"});$(this).find(".carousel-indicators li").on("click",function(){n(t)})});$(".banner-carousel .buttons a").each(function(){var t=this;$(this).on("click",function(){n(t)})});$(".block-foundation-contact-list").each(function(){var t=this;$(this).find(".dropdown").on("click",function(){n(t)})});$(".block-foundation-contact").each(function(){var t=this;$(this).find("a").on("click",function(){n(t)})});$(".hero-video-block .cta-button").each(function(){var t=this;$(this).on("click",function(){n(t)})});$(".patients-block-rich-text").each(function(){var t=this;$(this).on("click",function(){n(t)})});$(".language-item").each(function(){var t=this;$(this).find("a").on("click",function(){n(t)})})});ImageGallery=function(n){this.$container=$(n);this.$modal=this.$container.find(".modal");this.$carousel=this.$container.find(".carousel");this.$carouselItems=this.$carousel.find(".item");this.$carouselIndicator=this.$carousel.find(".carousel-indicators");this.$showMoreBtn=this.$container.find(".btn-see-more");this.$items=this.$container.find(".image-gallery-item");this.$hiddenItems=this.$container.find(".hidden");this.itemsPerPage=this.$container.data("items-per-page");var t=this;this.$showMoreBtn.click(function(){t.showMore()});this.$items.click(function(){t.showModal(t.$items.index($(this)))});this.$carousel.swipe({swipe:function(n,t){t=="left"&&$(this).carousel("next");t=="right"&&$(this).carousel("prev")},allowPageScroll:"vertical"})};ImageGallery.prototype.showMore=function(){for(var n=0;n<this.itemsPerPage;n++)this.$hiddenItems.eq(n).removeClass("hidden");this.$hiddenItems=this.$container.find(".hidden");this.$hiddenItems.length==0&&this.$showMoreBtn.hide()};ImageGallery.prototype.showModal=function(n){this.$modal.modal("show");this.setActiveSlide(n)};ImageGallery.prototype.setActiveSlide=function(n){this.$modal.carousel({interval:!1}).carousel(n)};$("document").ready(function(){$(".js-image-gallery-block").each(function(){var n=new ImageGallery(this)})});$(document).ready(function(){LoadAnswerEvents()});window.onload=function(){setEqualHeight()};$(window).on("orientationchange",function(){setTimeout(setEqualHeight,130)});$(window).resize(function(){setTimeout(setEqualHeight,130)});$(document).ready(function(){$("img.svg").each(function(){var n=$(this),t=n.attr("id"),i=n.attr("class"),r=n.attr("src");$.get(r,function(r){var u=$(r).find("svg");typeof t!="undefined"&&(u=u.attr("id",t));typeof i!="undefined"&&(u=u.attr("class",i+" replaced-svg"));u=u.removeAttr("xmlns:a");n.replaceWith(u)},"xml")})})